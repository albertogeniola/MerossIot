<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HTTP Client &mdash; MerossIot Library  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  

  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
        <script data-ad-client="ca-pub-9110025741700767" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MerossManager" href="manager.html" />
    <link rel="prev" title="API Reference" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="../index.html" class="icon icon-home">
            MerossIot Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common-gotchas.html">Common gotchas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-topics.html">Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meross-protocol.html">Meross Protocol Inspection</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">HTTP Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_from_cloud_creds"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_from_cloud_creds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_from_user_password"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_from_user_password()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_invalidate_credentials"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_invalidate_credentials()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_list_devices"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_list_devices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_list_hub_subdevices"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_list_hub_subdevices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_login"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_login()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.async_logout"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.async_logout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient.cloud_credentials"><code class="docutils literal notranslate"><span class="pre">MerossHttpClient.cloud_credentials</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manager.html">MerossManager</a></li>
<li class="toctree-l2"><a class="reference internal" href="creds.html">MerossCloudCredentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/device/base.html">BaseDevice</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/device/channel.html">ChannelInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/consumption.html">ConsumptionXMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/diffuserlight.html">DiffuserLightMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/diffuserspray.html">DiffuserSprayMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/dnd.html">DNDMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/electricity.html">ElectricityMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/cover.html">GarageOpenerMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/device/generic.html">GenericSubDevice</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/hub.html">HubMixn</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/hub.html#hubmts100mixin">HubMts100Mixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/device/hub.html">HubDevice</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/light.html">LightMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/rollershutter.html">RollerShutterMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/runtime.html">System`RuntimeMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/subdevice/sensor.html">Ms100Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/spray.html">SprayMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/system.html">SystemAllMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/system.html#systemonlinemixin">SystemOnlineMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/thermostat.html">ThermostatMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/toggle.html">ToggleXMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/mixins/toggle.html#togglemixin">ToggleMixin</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller/subdevice/valve.html">Mts100v3Valve</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MerossIot Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">API Reference</a></li>
      <li class="breadcrumb-item active">HTTP Client</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api-reference/http.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-meross_iot.http_api">
<span id="http-client"></span><h1>HTTP Client<a class="headerlink" href="#module-meross_iot.http_api" title="Permalink to this heading">ÔÉÅ</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">meross_iot.http_api.</span></span><span class="sig-name descname"><span class="pre">MerossHttpClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cloud_credentials</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="creds.html#meross_iot.model.credentials.MerossCloudCreds" title="meross_iot.model.credentials.MerossCloudCreds"><span class="pre">MerossCloudCreds</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ua_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT/0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'41b5b9998062ab7a99262a176b300af47d8c71-3500-4a0a-93a7-a233b701845f'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Utility class for dealing with Meross HTTP API.
This class simplifies the usage of the Meross HTTP API providing login, logout and device listing API.</p>
<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_from_cloud_creds">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_from_cloud_creds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">creds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="creds.html#meross_iot.model.credentials.MerossCloudCreds" title="meross_iot.model.credentials.MerossCloudCreds"><span class="pre">MerossCloudCreds</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ua_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT/0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'41b5b9998062ab7a99262a176b300af47d8c71-3500-4a0a-93a7-a233b701845f'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient" title="meross_iot.http_api.MerossHttpClient"><span class="pre">MerossHttpClient</span></a></span></span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_from_cloud_creds" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Build a MerossIot API client using the provided cloud-credentials object.
:param creds: CloudCredentials object to build the client from
:param http_proxy: HTTP proxy to use. When none, no proxy will be used. Defaults to None.
:param ua_header: User agent headers to send alongside the various requests. The default value is auto-generated by the library.
:param app_type: String used to discriminate the app type. The default value is auto-generated by the library.
:param app_version: String used to discriminate the app version. The default value is auto-generated by the library.
:param log_identifier: String used to log the app client usage. The default value is auto-generated by the library.
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_from_user_password">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_from_user_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_base_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ua_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT/0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'41b5b9998062ab7a99262a176b300af47d8c71-3500-4a0a-93a7-a233b701845f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_retry_on_bad_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mfa_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#meross_iot.http_api.MerossHttpClient" title="meross_iot.http_api.MerossHttpClient"><span class="pre">MerossHttpClient</span></a></span></span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_from_user_password" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Builds a MerossHttpClient using username/password combination.
In any case, the login will generate a token, which might expire at any time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_base_url</strong> ‚Äì Https base endpoint to use for API calls. It should be one of ‚Äú<a class="reference external" href="https://iotx-eu.meross.com">https://iotx-eu.meross.com</a>‚Äù, ‚Äú<a class="reference external" href="https://iotx-ap.meross.com">https://iotx-ap.meross.com</a>‚Äù or ‚Äú<a class="reference external" href="https://iotx-us.meross.com">https://iotx-us.meross.com</a>‚Äù, based on your public IP region.,</p></li>
<li><p><strong>email</strong> ‚Äì Meross account email</p></li>
<li><p><strong>password</strong> ‚Äì Meross account password</p></li>
<li><p><strong>http_proxy</strong> ‚Äì Optional http proxy to use when issuing the requests</p></li>
<li><p><strong>app_type</strong> ‚Äì App Type header parameter to use</p></li>
<li><p><strong>app_version</strong> ‚Äì App Version header parameter to use</p></li>
<li><p><strong>log_identifier</strong> ‚Äì Log identifier to use</p></li>
<li><p><strong>auto_retry_on_bad_domain</strong> ‚Äì when set, it enables auto-retry when BadDomain exception occurs.</p></li>
<li><p><strong>mfa_code</strong> ‚Äì multi-factor authentication code (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an instance of <cite>MerossHttpClient</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_invalidate_credentials">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_invalidate_credentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">creds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="creds.html#meross_iot.model.credentials.MerossCloudCreds" title="meross_iot.model.credentials.MerossCloudCreds"><span class="pre">MerossCloudCreds</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_invalidate_credentials" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Class method used to invalidate credentials without logging in with a full MerossHttpClient.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>creds</strong> ‚Äì <cite>MerossCloudCredentials</cite> as returned by <cite>async_login()</cite> or <cite>async_from_user_password()</cite></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>API response data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_list_devices">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_list_devices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">HttpDeviceInfo</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_list_devices" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Asks to the HTTP api to list the Meross device belonging to the given user account.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of <cite>HttpDeviceInfo</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_list_hub_subdevices">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_list_hub_subdevices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hub_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">HttpSubdeviceInfo</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_list_hub_subdevices" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Returns the sub-devices associated to the given hub.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hub_id</strong> ‚Äì Meross native UUID of the HUB</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of <cite>HttpSubdeviceInfo</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_login">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_base_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">creds_env_var_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'__MEROSS_CREDS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ua_header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT/0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'MerossIOT'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'0.0.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'41b5b9998062ab7a99262a176b300af47d8c71-3500-4a0a-93a7-a233b701845f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'us'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agree_to_terms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mfa_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_counter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HttpStatsCounter</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_retry_on_bad_domain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="creds.html#meross_iot.model.credentials.MerossCloudCreds" title="meross_iot.model.credentials.MerossCloudCreds"><span class="pre">MerossCloudCreds</span></a></span></span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_login" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Performs the login against the Meross HTTP endpoint.
This api returns a MerossCloudCreds object, which contains the API endpoint, the mqtt endpoint and the
authorization token to use the various API/MQTT services.
Be cautious when invoking this API: asking for too many tokens as the Meross HTTP API might refuse
to issue more tokens. Instead, you should keep using the same issued token when possible, possibly
storing it across sessions. When you are done using a specific token, be sure to invoke logout
to invalidate it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_base_url</strong> ‚Äì Meross API base url.</p></li>
<li><p><strong>email</strong> ‚Äì Meross account email</p></li>
<li><p><strong>password</strong> ‚Äì Meross account password</p></li>
<li><p><strong>creds_env_var_name</strong> ‚Äì If set, indicate which env variables stores such credentials</p></li>
<li><p><strong>http_proxy</strong> ‚Äì Optional http proxy to use when to performing the request</p></li>
<li><p><strong>ua_header</strong> ‚Äì User Agent header to use when issuing the HTTP request</p></li>
<li><p><strong>stats_counter</strong> ‚Äì Stats counter object</p></li>
<li><p><strong>app_type</strong> ‚Äì App Type header parameter to use</p></li>
<li><p><strong>app_version</strong> ‚Äì App Version header parameter to use</p></li>
<li><p><strong>country_code</strong> ‚Äì (experimental) The country code you are connecting from</p></li>
<li><p><strong>agree_to_terms</strong> ‚Äì (optional) if 1 means we agree, if 0 or omitted, means we do not agree to terms</p></li>
<li><p><strong>mfa_code</strong> ‚Äì (optional) MFA code</p></li>
<li><p><strong>auto_retry_on_bad_domain</strong> ‚Äì when set, tells the library to retry the login when BadDomain occurs, osing the right domain value returned by the initial operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <cite>MerossCloudCreds</cite> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.async_logout">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">async_logout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.async_logout" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Invalidates the credentials stored in this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>API response data</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="meross_iot.http_api.MerossHttpClient.cloud_credentials">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cloud_credentials</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="creds.html#meross_iot.model.credentials.MerossCloudCreds" title="meross_iot.model.credentials.MerossCloudCreds"><span class="pre">MerossCloudCreds</span></a></em><a class="headerlink" href="#meross_iot.http_api.MerossHttpClient.cloud_credentials" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Returns the meross credentials returned by the the HTTP Api
:return:</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="manager.html" class="btn btn-neutral float-right" title="MerossManager" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Alberto Geniola.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10387182-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-10387182-6', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>